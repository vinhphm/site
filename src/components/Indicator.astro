---
import type { HTMLAttributes } from 'astro/types'
import LucideAsterisk from '~icons/lucide/asterisk'

export interface Props extends HTMLAttributes<'span'> {
  class?: string
  alwaysShowLabel?: boolean
}

const { class: className = '', alwaysShowLabel = false, ...attrs } = Astro.props
---

<span
  class={`inline-flex items-center overflow-hidden group/badge ${className}`}
  {...attrs}
>
  <LucideAsterisk class="flex-shrink-0" />
  <span class={`ml-[0.1em] text-sm whitespace-nowrap transition-all duration-300 ease-in-out ${
    alwaysShowLabel
      ? 'w-auto translate-x-0 opacity-100'
      : 'w-0 transform translate-x-[-100%] opacity-0 group-hover/badge:w-auto group-hover/badge:translate-x-0 group-hover/badge:opacity-100'
  }`}
  >
    <slot />
  </span>
</span>
